- name: consensus_peaks test_consensus_peaks_broad
  command: nextflow run ./tests/subworkflows/CCBR/consensus_peaks -entry test_consensus_peaks_broad -c ./tests/config/nextflow.config
  tags:
    - bedops
    - bedops/bedmap
    - bedtools
    - bedtools/merge
    - bedtools/sort
    - cat
    - cat/cat
    - custom
    - custom/combinepeakcounts
    - custom/normalizepeaks
    - subworkflows
    - subworkflows/consensus_peaks
  files:
    - path: output/custom_combinepeakcounts/macs_broad.consensus.bed
      md5sum: 600f5c2dfeae440ada8c412c153a677e

- name: consensus_peaks test_consensus_peaks_broad stub
  command: nextflow run ./tests/subworkflows/CCBR/consensus_peaks -entry test_consensus_peaks_broad -c ./tests/config/nextflow.config -stub
  tags:
    - bedops
    - bedops/bedmap
    - bedtools
    - bedtools/merge
    - bedtools/sort
    - cat
    - cat/cat
    - custom
    - custom/combinepeakcounts
    - custom/normalizepeaks
    - subworkflows
    - subworkflows/consensus_peaks
  files:
    - path: output/bedops_bedmap/SPT5_T0_1_peaks.macs_broad.mapped.bed
    - path: output/bedops_bedmap/SPT5_T0_2_peaks.macs_broad.mapped.bed
    - path: output/bedtools_merge/macs_broad.merged.bed
    - path: output/bedtools_sort/SPT5_T0_1_peaks.sorted.broadPeak
    - path: output/bedtools_sort/SPT5_T0_2_peaks.sorted.broadPeak
    - path: output/bedtools_sort/macs_broad.sorted.broadPeak
    - path: output/cat_cat/macs_broad.broadPeak
    - path: output/custom_combinepeakcounts/macs_broad.consensus.bed

- name: consensus_peaks test_consensus_peaks_mix_norm
  command: nextflow run ./tests/subworkflows/CCBR/consensus_peaks -entry test_consensus_peaks_mix_norm -c ./tests/config/nextflow.config
  tags:
    - bedops
    - bedops/bedmap
    - bedtools
    - bedtools/merge
    - bedtools/sort
    - cat
    - cat/cat
    - custom
    - custom/combinepeakcounts
    - custom/normalizepeaks
    - subworkflows
    - subworkflows/consensus_peaks
  files:
    - path: output/custom_normalizepeaks/macs_broad.consensus.norm.bed
      md5sum: 9b133bf0d129a51491c9d722a7d577c0
    - path: output/custom_normalizepeaks/macs_narrow.consensus.norm.bed
      md5sum: 29d222c145ef196b2cc11b304c3ed2ed
